webpackJsonp([7],{QlWu:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});o("2Hch");var i={data:function(){return{islogin:!0,isShow:!1,username:"",password:""}},created:function(){},components:{},methods:{postData:function(){if(this.username.length<4)return this.username.length<1?this.tooltip.ToastMsg("用户名不能为空"):this.tooltip.ToastMsg("用户名不能少于4位");if(this.password.length<6)return this.password.length<1?this.tooltip.ToastMsg("密码不能为空"):this.tooltip.ToastMsg("密码不能少于6位");var t={loginid:this.username,password:this.password},s=this;this.islogin?(s.tooltip.Loading.start("正在登录"),this.$http.post("/users/login",t,function(t){console.log(t),"0"===t.code?(s.Stor.setStor("info",t.data),setTimeout(function(){s.tooltip.Loading.end(),s.$router.replace({path:"/my"})},500)):(s.tooltip.Loading.end(),s.tooltip.Toast.Error(t.message))},function(t){console.log(t),s.tooltip.Loading.end()})):(s.tooltip.Loading.start("正在注册"),this.$http.post("/users/register",t,function(t){console.log(t),"0"===t.code?(s.Stor.setStor("info",t.data),setTimeout(function(){s.tooltip.Loading.end(),s.tooltip.Toast.Success(t.message,800),setTimeout(function(){s.$router.replace({path:"/my"})},800)},1e3)):(s.tooltip.Loading.end(),s.tooltip.Toast.Error(t.message))},function(t){s.tooltip.Loading.end(),console.log(t)}))}},watch:{username:function(){this.username=this.username.replace(/[\W]/g,"")},password:function(){this.password=this.password.replace(/[\W]/g,"")}}},e={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"iconfont"},[o("div",{staticClass:"title",domProps:{textContent:t._s(t.islogin?"用户登录":"用户注册")}}),t._v(" "),o("div",{staticClass:"from"},[o("div",{staticClass:"item"},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.username,expression:"username",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入用户名",maxlength:"15"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),o("i"),t.username?o("i",{on:{click:function(s){t.username=""}}},[t._v("")]):t._e()]),t._v(" "),o("div",{staticClass:"item"},[t.isShow?o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入密码",maxlength:"20"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}):o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],attrs:{type:"password",placeholder:"请输入密码",maxlength:"20"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),t.password?o("span",[o("i",{on:{click:function(s){t.password=""}}},[t._v("")]),o("span",{staticClass:"pwd"},[t.isShow?o("i",{on:{click:function(s){t.isShow=!t.isShow}}},[t._v("")]):o("i",{on:{click:function(s){t.isShow=!t.isShow}}},[t._v("")])])]):t._e()]),t._v(" "),o("div",{staticClass:"subm",class:{"j-subm":t.username.length<4||t.password.length<6},domProps:{textContent:t._s(t.islogin?"登录":"注册")},on:{click:t.postData}}),t._v(" "),o("div",{staticClass:"cut",domProps:{textContent:t._s(t.islogin?"我要注册":"我要登录")},on:{click:function(s){t.islogin=!t.islogin}}}),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"myauth"},[s("a",{staticClass:"wx",attrs:{href:""}},[s("i",[this._v("")])]),this._v(" "),s("a",{staticClass:"qq",attrs:{href:""}},[s("i",[this._v("")])]),this._v(" "),s("a",{staticClass:"xlwb",attrs:{href:""}},[s("i",[this._v("")])]),this._v(" "),s("a",{staticClass:"bd",attrs:{href:""}},[s("i",[this._v("")])])])}]};var a=o("VU/8")(i,e,!1,function(t){o("pC7i")},"data-v-05d7b817",null);s.default=a.exports},pC7i:function(t,s){}});